import{p as Be,c as Ve,i as W,a as Q,d as g,h as t,A as qe,D as He,T as We,R as be,S as Ne,N as Ue,u as L,r as v,o as A,b as Re,K as Ke,e as Ge,f as Ye,g as Je,j as Qe,k as Xe,l as Ze,m as P,n as et,q as tt,s as nt,t as C,w as Ce,v as X,x as Z,y as x,z as U,B as Ae,C as at,E as ee,I as M,F as Ie,G as ot,H as ke,J as D,L as V,M as te,O as j,P as le,Q as rt,U as Pe,V as st,_ as ut,W as xe,X as ne,Y as $,Z as ie,$ as R,a0 as N,a1 as K,a2 as lt,a3 as it,a4 as ct,a5 as pt,a6 as dt,a7 as De,a8 as Fe,a9 as mt,aa as Le,ab as ht,ac as vt,ad as gt,ae as Se,af as ft,ag as yt,ah as _t,ai as wt,aj as Et,ak as Bt,al as bt,am as ce,an as pe,ao as de,ap as Ct,aq as At,ar as It,as as T,at as z,au as kt,av as Pt,aw as xt,ax as Dt,ay as Ft,az as Lt,aA as St,aB as Mt,aC as jt,aD as $t,aE as Tt,aF as zt,aG as Ot,aH as Vt,aI as qt,aJ as Ht,aK as Wt,aL as Nt,aM as Ut,aN as Rt,aO as Kt,aP as Gt,aQ as Yt,aR as Jt,aS as me,aT as Qt,aU as Xt,aV as Zt,aW as en,aX as tn,aY as nn,aZ as an,a_ as on}from"./vendor-a7b34205.js";const rn=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function a(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=a(o);fetch(o.href,s)}};rn();const sn="modulepreload",he={},un="https://fastly.jsdelivr.net/gh/mx-space/mx-admin@gh-pages/",h=function(n,a){return!a||a.length===0?n():Promise.all(a.map(r=>{if(r=`${un}${r}`,r in he)return;he[r]=!0;const o=r.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${s}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":sn,o||(u.as="script",u.crossOrigin=""),u.href=r,document.head.appendChild(u),o)return new Promise((i,m)=>{u.addEventListener("load",i),u.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>n())};var l=(e=>(e.Dashboard="dashboard",e.Post="post",e.ViewPost="view-posts",e.EditPost="edit-posts",e.EditCategory="edit-category",e.Note="note",e.ViewNote="view-notes",e.EditNote="edit-notes",e.Comment="comment",e.Page="page",e.ListPage="page-list",e.EditPage="page-edit",e.Say="say",e.ListSay="say-list",e.EditSay="say-edit",e.Project="project",e.ListProject="project-list",e.EditProject="project-edit",e.Friend="friends",e.File="files",e.Analyze="analyze",e.Setting="setting",e.Profile="setting-profile",e.System="setting-system",e.Security="setting-security",e.Reset="reset",e.Other="other",e.Backup="backup",e.Markdown="markdown",e.Cron="cron",e.Log="log",e.Optimize="optimize",e.Login="login",e.Home="home",e.Setup="setup",e.ListShortHand="shorthand",e.Snippet="snippet",e.AssetTemplate="asset-template",e.Pty="pty",e))(l||{});function Me(e){!e.token&&(e.token=Symbol("functional store"));const n=e();return Be(e.token,n),n}function ln(...e){const n={};return e.forEach(a=>{const r=Me(a);n[Ve(a.name)]=r}),n}function b(e,n){const a=e.token,r=e.root;switch(n){case"optional":return W(a)||e.root||null;case"root":return e.root||(e.root=e()),e.root;default:if(W(a))return W(a);if(r)return e.root;throw new Error(`\u72B6\u6001\u94A9\u5B50\u51FD\u6570${e.name}\u672A\u5728\u4E0A\u5C42\u7EC4\u4EF6\u901A\u8FC7\u8C03\u7528useProvider\u63D0\u4F9B`)}}const ae="mx-token";function je(){const e=Q.get(ae);return e?`bearer ${e}`:null}function cn(e,n){if(typeof e=="string")return Q.set(ae,e,{expires:n})}function Ea(){return Q.remove(ae)}const pn=(e,n)=>{let a=/^\//.test(e)?e:"/"+e;if(!a.match(/(\/?:)/))return a;if(!n||Object.prototype.toString.call(n)!=="[object Object]")throw new TypeError("params must be object");for(const o in n)a=a.replaceAll(":"+o,n[o]);return a},oe=(e,n,a)=>{const r=pn(e.path,e.meta?.params),o=a+"/"+r;return{title:e.meta?.title||e.name?.toString()||r,path:r,icon:e.meta?.icon,subItems:dn(e,o),hasParent:n,fullPath:o.replaceAll("//","/"),query:e.meta?.query}};function dn(e,n=""){return Array.isArray(e.children)?e.children.filter(a=>a.meta?a.meta.hide!==!0:!0).map(a=>oe(a,!0,n)):[]}const mn=e=>e.find(n=>n.name==="home"&&n.path==="/").children.filter(n=>n.path!=="*"&&n.meta?.hide!==!0).map(n=>oe(n,!1,"")),ve=window.injectData.WEB_URL||"https://innei.ren",ge=window.injectData.LOGIN_BG||"https://gitee.com/xun7788/my-imagination/raw/master/images/chichi-1.jpg",hn=(()=>{const e=new URLSearchParams(location.search).get("__api")||window.injectData.BASE_API||"https://api.innei.ren/v2";return e.endsWith("/")?e.slice(0,-1):e})(),Ba=window.injectData.GATEWAY||"https://api.innei.ren",vn=()=>t("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24"},t("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6l6 6l1.41-1.41M6 6h2v12H6V6z",fill:"currentColor"})),gn=()=>t("svg",{width:"1em",height:"1em",viewBox:"0 0 256 256"},t("path",{d:"M128 60a68 68 0 1 0 68 68a68.1 68.1 0 0 0-68-68zm0 120a52 52 0 1 1 52-52a52 52 0 0 1-52 52zm-8-144V16a8 8 0 0 1 16 0v20a8 8 0 0 1-16 0zM43.1 54.5a8.1 8.1 0 1 1 11.4-11.4l14.1 14.2a8 8 0 0 1 0 11.3a8.1 8.1 0 0 1-11.3 0zM36 136H16a8 8 0 0 1 0-16h20a8 8 0 0 1 0 16zm32.6 51.4a8 8 0 0 1 0 11.3l-14.1 14.2a8.3 8.3 0 0 1-5.7 2.3a8.5 8.5 0 0 1-5.7-2.3a8.1 8.1 0 0 1 0-11.4l14.2-14.1a8 8 0 0 1 11.3 0zM136 220v20a8 8 0 0 1-16 0v-20a8 8 0 0 1 16 0zm76.9-18.5a8.1 8.1 0 0 1 0 11.4a8.5 8.5 0 0 1-5.7 2.3a8.3 8.3 0 0 1-5.7-2.3l-14.1-14.2a8 8 0 0 1 11.3-11.3zM248 128a8 8 0 0 1-8 8h-20a8 8 0 0 1 0-16h20a8 8 0 0 1 8 8zm-60.6-59.4a8 8 0 0 1 0-11.3l14.1-14.2a8.1 8.1 0 0 1 11.4 11.4l-14.2 14.1a8.1 8.1 0 0 1-11.3 0z",fill:"currentColor"})),fn=()=>t("svg",{width:"1em",height:"1em",viewBox:"0 0 256 256"},t("path",{d:"M216.7 152.6A91.9 91.9 0 0 1 103.4 39.3a92 92 0 1 0 113.3 113.3z",opacity:".2",fill:"currentColor"}),t("path",{d:"M224.3 150.3a8.1 8.1 0 0 0-7.8-5.7l-2.2.4A84 84 0 0 1 111 41.6a5.7 5.7 0 0 0 .3-1.8a7.9 7.9 0 0 0-10.3-8.1a100 100 0 1 0 123.3 123.2a7.2 7.2 0 0 0 0-4.6zM128 212A84 84 0 0 1 92.8 51.7a99.9 99.9 0 0 0 111.5 111.5A84.4 84.4 0 0 1 128 212z",fill:"currentColor"})),$e=()=>t("svg",{width:"1em",height:"1em",viewBox:"0 0 256 256"},t("path",{d:"M69.1 94.1L28.5 128l40.6 33.9a7.9 7.9 0 0 1 1.1 11.2A8.1 8.1 0 0 1 64 176a7.7 7.7 0 0 1-5.1-1.9l-48-40a7.9 7.9 0 0 1 0-12.2l48-40a8 8 0 1 1 10.2 12.2zm176 27.8l-48-40a8 8 0 0 0-10.2 12.2l40.6 33.9l-40.6 33.9A8 8 0 0 0 192 176a7.7 7.7 0 0 0 5.1-1.9l48-40a7.9 7.9 0 0 0 0-12.2zm-82.4-89.4a7.9 7.9 0 0 0-10.2 4.8l-64 176a7.9 7.9 0 0 0 4.8 10.2a8.6 8.6 0 0 0 2.7.5a7.9 7.9 0 0 0 7.5-5.3l64-176a7.9 7.9 0 0 0-4.8-10.2z",fill:"currentColor"})),fe=()=>t("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24"},t("g",{"stroke-width":"1.5",fill:"none"},t("path",{d:"M21.888 13.5C21.164 18.311 17.013 22 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2c4.1 0 7.625 2.468 9.168 6",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M17 8h4.4a.6.6 0 0 0 .6-.6V3",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"}))),ba=g({setup(){return()=>t("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24"},t("path",{d:"M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5l-1.5 1.5l-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16A6.5 6.5 0 0 1 3 9.5A6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14S14 12 14 9.5S12 5 9.5 5z",fill:"currentColor"}))}}),yn=g({setup(){return()=>t(qe,null)}}),Ca=g({setup(){return()=>t(He,null)}}),Aa=g({setup(){return()=>t(We,null)}}),Ia=g({setup(){return()=>t("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24"},t("path",{d:"M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33c.85 0 1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z",fill:"#fff"}))}}),ka=g({setup(){return()=>t("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24"},t("path",{d:"M7 10l5 5l5-5H7z",fill:"currentColor"}))}}),Pa=g({setup(){return()=>t("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24"},t("path",{d:"M21 5L9 17l-5.5-5.5l1.41-1.41L9 14.17L19.59 3.59L21 5M3 21v-2h18v2H3z",fill:"currentColor"}))}}),xa=yn,_n=()=>t("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24"},t("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},t("path",{d:"M4 17l6-6l-6-6"}),t("path",{d:"M12 19h8"}))),Da=()=>t("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24"},t("path",{d:"M16.5 11L13 7.5l1.4-1.4l2.1 2.1L20.7 4l1.4 1.4l-5.6 5.6M11 7H2v2h9V7m10 6.4L19.6 12L17 14.6L14.4 12L13 13.4l2.6 2.6l-2.6 2.6l1.4 1.4l2.6-2.6l2.6 2.6l1.4-1.4l-2.6-2.6l2.6-2.6M11 15H2v2h9v-2z",fill:"currentColor"})),wn=()=>t("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24"},t("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},t("path",{d:"M14 10h1c1 0 1 1 2.016 3.527C18 16 18 17 19 17h1"}),t("path",{d:"M13 17c1.5 0 3-2 4-3.5s2.5-3.5 4-3.5M3 19c0 1.5.5 2 2 2s2-4 3-9s1.5-9 3-9s2 .5 2 2m-8 7h6"}))),En=()=>t("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24"},t("path",{fill:"currentColor",d:"m10.5 2.661l.54.997l-1.797.644l2.409.218l.748 1.246l.467-1.121l2.077-.208l-1.61-.613l.426-1.017l-1.578.519zm6.905 2.077L13.76 6.182l3.292 1.298l.353-.146l3.293-1.298zm-10.51.312a2.97 1.153 0 0 0-2.97 1.152a2.97 1.153 0 0 0 2.97 1.153a2.97 1.153 0 0 0 2.97-1.153a2.97 1.153 0 0 0-2.97-1.152zM24 6.805s-8.983 4.278-10.395 4.953c-1.226.561-1.901.561-3.261.094C8.318 11.022 0 7.241 0 7.241v1.038c0 .24.332.499.966.8c1.277.613 8.34 3.677 9.45 4.206c1.112.53 1.9.54 3.313-.197c1.412-.738 8.049-3.905 9.326-4.57c.654-.342.945-.602.945-.84zm-10.042.602L8.39 8.26l3.884 1.61zM24 10.637s-8.983 4.279-10.395 4.954c-1.226.56-1.901.56-3.261.093C8.318 14.854 0 11.074 0 11.074v1.038c0 .238.332.498.966.8c1.277.612 8.34 3.676 9.45 4.205c1.112.53 1.9.54 3.313-.197c1.412-.737 8.049-3.905 9.326-4.57c.654-.332.945-.602.945-.84zm0 3.842l-10.395 4.954c-1.226.56-1.901.56-3.261.094C8.318 18.696 0 14.916 0 14.916v1.038c0 .239.332.499.966.8c1.277.613 8.34 3.676 9.45 4.206c1.112.53 1.9.54 3.313-.198c1.412-.737 8.049-3.904 9.326-4.569c.654-.343.945-.613.945-.841z"})),I=g({setup(){return()=>t(be,null,{default({Component:e}){return t(Ne,null,{default:()=>e,fallback(){return t("div",{class:"fixed left-1/2 top-1/2 transform text-primary-default -translate-y-1/2 -translate-x-1/2"},t(Ue,{strokeWidth:14,show:!0,rotate:!0}))}})}})}}),Bn=g({setup(e,{slots:n}){const a=L(),r=v([]);return A(()=>{const o=a.getRoutes();r.value=o.map(s=>!s.meta.title||s.children.length>0||s.meta.hideKbar?null:Re({id:s.path,name:s.meta.title,subtitle:s.path,keywords:s.name,perform:()=>a.push({name:s.name})})).filter(Boolean)}),()=>t(Qe,{actions:r.value},t(Ke,null,t(Ge,{class:"backdrop-filter backdrop-blur-sm z-99 bg-gray-300 dark:bg-black dark:bg-opacity-25 bg-opacity-80"},t(Ye,{class:"bg-white shadow-lg rounded-lg w-[650px] max-w-[80vw] overflow-hidden divide-y"},t(Je,{class:"px-3 py-4 text-lg w-full box-border outline-none border-none"}),t(bn,null)))),n.default?.())}}),bn=g({setup(){const e=Xe();return()=>t(Ze,{class:"max-h-96",itemHeight:50,items:e.value.results},{item({item:n,index:a,active:r}){return typeof n=="string"?t("div",{class:"p-2"},n):t("div",{class:P("flex flex-col px-3 py-2 h-[50px] box-border select-none cursor-pointer",r&&"bg-gray-200 bg-opacity-50")},t("div",null,n.name),n.subtitle&&t("div",{class:"text-gray-400"},n.subtitle))}})}});function q(){const e=v({}),n=v(250),a=v(!!e.value.mobile),r=et(),o=tt(r);A(()=>{const c=nt(s,500,{trailing:!0});window.onresize=c,s()});const s=()=>{const c=window.innerHeight,d=document.documentElement.getBoundingClientRect().width,{hpad:k,pad:y,mobile:_}=e.value;e.value.h&&Math.abs(c-e.value.h)<80&&d===e.value.w&&(k||y||_)||(e.value={w:d,h:c,mobile:window.screen.width<=568||window.innerWidth<=568,pad:window.innerWidth<=768&&window.innerWidth>568,hpad:window.innerWidth<=1024&&window.innerWidth>768,wider:window.innerWidth>1024&&window.innerWidth<1920,widest:window.innerWidth>=1920,phone:window.innerWidth<=768})},u=C(()=>e.value.w-n.value+(a.value?e.value.mobile?50:100:0)),i=C(()=>u.value-parseInt(getComputedStyle(document.documentElement).fontSize)*6);Ce(()=>r.value,c=>{c?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")});const m=v(!1);return{viewport:e,contentWidth:u,sidebarWidth:n,contentInsetWidth:i,sidebarCollapse:a,isDark:r,toggleDark:o,naiveUIDark:m,onlyToggleNaiveUIDark:c=>{m.value=c??!m.value}}}const Te={title:window.injectData.TITLE||"\u9759\u304B\u306A\u68EE"};function H(){const e=v(null),n=v(""),a=je();a&&(n.value=a);const r=L();return{user:e,token:n,async fetchUser(){try{const o=await B.api.master.get();e.value=o}catch(o){o.data?.message=="\u6CA1\u6709\u5B8C\u6210\u521D\u59CB\u5316!"&&r.replace("/setup")}},updateToken(o){o&&cn(o,7),n.value=o}}}var re=(e,n)=>{const a=e.__vccOpts||e;for(const[r,o]of n)a[r]=o;return a};const Cn=g({props:{size:{type:Number,default:50},src:{type:String,required:!0}},setup(e){const n=v(!1),a=()=>{if(!e.src)return;const r=new Image;r.src=e.src,r.onload=o=>{n.value=!0}};return A(()=>{a()}),Ce(()=>e.src,()=>{a()}),{loaded:n}}}),An=["src"],In=x("div",{class:"sr-only"},"\u4E00\u4E2A\u5934\u50CF",-1);function kn(e,n,a,r,o,s){return X(),Z("div",{class:"avatar",style:U({height:`${e.size}px`,width:`${e.size}px`})},[x("img",{src:e.src,alt:"",style:U({display:e.loaded?"":"none"})},null,12,An),In],4)}var J=re(Cn,[["render",kn]]);const Pn="_root_drfop_1",xn="_collapse_drfop_5",Dn="_sidebar_drfop_48",Fn="_items_drfop_55",Ln="_active_drfop_67",Sn="_expand_drfop_68",Mn="_item_drfop_8",jn="_menu_drfop_100";var E={root:Pn,collapse:xn,"item-title":"_item-title_drfop_8","has-child":"_has-child_drfop_12","collapse-button":"_collapse-button_drfop_23","toggle-color-btn":"_toggle-color-btn_drfop_29",sidebar:Dn,items:Fn,active:Ln,expand:Sn,item:Mn,menu:jn};const $n=g({name:"SidebarComp",props:{collapse:{type:Boolean,required:!0},width:{type:Number,required:!0},onCollapseChange:{type:Function,required:!0}},setup(e){const n=L(),{user:a}=b(H),r=C(()=>n.currentRoute.value),o=v([]),s=b(se);A(()=>{o.value=mn(n.getRoutes())}),Ae(()=>{if(s.app.value?.version==="dev"){const p=n.getRoutes().find(w=>w.path==="/debug");o.value.unshift(oe(p,!1,""))}});const u=v(0);function i(f){if(f===u.value){u.value=-1;return}u.value=f}function m(f,p){f.subItems?.length||(n.push({path:f.fullPath,query:f.query}),p&&i(p))}const c=Te.title,d=v(),k=b(q);at(d,f=>{const p=k.viewport;(p.value.pad||p.value.mobile)&&e.onCollapseChange(!0)});const{isDark:y,toggleDark:_}=b(q);return()=>t("div",{class:P(E.root,e.collapse?E.collapse:null),style:{width:!e.collapse&&e.width?e.width+"px":""},ref:d},t("div",{class:"fixed left-0 top-0 h-screen overflow-hidden z-10 text-white "+E.sidebar},t("div",{class:"title relative font-medium text-center text-2xl"},t("button",{class:E["toggle-color-btn"],onClick:()=>void _()},y.value?t(fn,null):t(gn,null)),t("h1",{class:"py-6",style:{display:e.collapse?"none":""}},c),t("button",{class:E["collapse-button"],onClick:()=>{e.onCollapseChange(!e.collapse)}},t(vn,null))),t(ee,{class:E.menu,nativeScrollbar:!1},t("div",{class:E.items},o.value.map((f,p)=>t("div",{class:P("py-2",r.value.fullPath===f.fullPath||r.value.fullPath.startsWith(f.fullPath)?E.active:"",E.item),"data-path":f.fullPath},t("button",{key:f.title,class:"py-2 flex w-full items-center",onClick:f.subItems?.length?()=>i(p):()=>m(f,p)},t("span",{style:{flexBasis:"3rem"},class:"flex justify-center"},t(M,null,f.icon)),t("span",{class:E["item-title"]},f.title)),f.subItems&&t("ul",{class:P("overflow-hidden  "+(f.subItems.length?E["has-child"]:""),u.value===p?E.expand:""),style:{maxHeight:u.value===p?f.subItems.length*3.5+"rem":"0"}},f.subItems.map(w=>t("li",{key:w.path,class:P(r.value.fullPath===w.fullPath||r.value.fullPath.startsWith(w.fullPath)?E.active:"",E.item)},t("button",{onClick:()=>m(w),class:"flex w-full items-center py-4"},t("span",{class:"flex justify-center items-center",style:{flexBasis:"3rem"}},t(M,null,w.icon)),t("span",{class:E["item-title"]},w.title))))))))),t("button",{class:P("bottom-bar flex space-x-2 items-center  transform translate-y-1/3 phone:hidden",e.collapse?"px-8":"px-12"),onClick:()=>{window.open(ve)}},t(J,{src:a.value?.avatar,size:40}),e.collapse?null:t("span",{class:"pl-12"},a.value?.name)),t("button",{class:"hidden phone:flex w-full items-center justify-center absolute bottom-0 pb-4",onClick:()=>{window.open(ve)}},t(J,{src:a.value?.avatar,size:40}))))}}),Tn="_root_5exgh_1",zn="_content_5exgh_2";var ye={root:Tn,content:zn};const _e=g({name:"SidebarLayout",setup(e){const n=b(q),a=n.sidebarCollapse,r=C(()=>n.viewport.value.mobile||n.viewport.value.pad);Ae(()=>{a.value=!!r.value});const o=n.sidebarWidth;return()=>t(Bn,null,{default(){return t("div",{class:ye.root},t($n,{collapse:a.value,width:o.value,onCollapseChange:s=>{a.value=s}}),t(ee,{embedded:!0,nativeScrollbar:!1,class:ye.content,style:{left:a.value?"100px":o.value+"px",pointerEvents:r.value&&!a.value?"none":"auto"}},t(I,null)))}})}}),G=new Map,On=g({props:{ip:{type:String,required:!0},triggerEl:{type:[Object,Function],required:!0},trigger:{type:String,default:"click"}},setup(e){const n=v("\u83B7\u53D6\u4E2D.."),a=s=>{n.value=`IP: ${s.ip}<br />
      \u57CE\u5E02: ${[s.countryName,s.regionName,s.cityName].filter(Boolean).join(" - ")||"N/A"}<br />
      ISP: ${s.ispDomain||"N/A"}<br />
      \u7EC4\u7EC7: ${s.ownerDomain||"N/A"}<br />
      \u8303\u56F4: ${s.range?Object.values(s.range).join(" - "):"N/A"}
      `},r=()=>n.value="\u83B7\u53D6\u4E2D..",o=async(s,u)=>{if(!!u)if(s){if(G.has(u)){const m=G.get(u);a(m);return}const i=await B.api.tools.ip(u).get();a(i),G.set(u,i)}else r()};return()=>t(Ie,{trigger:e.trigger,placement:"top",onUpdateShow:async s=>{!e.ip||await o(s,e.ip)}},{trigger(){return typeof e.triggerEl=="function"?e.triggerEl():e.triggerEl},default(){return t("div",{innerHTML:n.value})}})}}),Vn=()=>{const e=ke(),n=v("");return{create(){return new Promise((a,r)=>{const o=e.create({title:"\u901F\u8BB0",type:"success",content(){return t(ot,{resizable:!1,type:"textarea",onUpdateValue:s=>{n.value=s},value:n.value,class:"h-[300px] max-h-[80vh]"})},action(){return t(V,null,t(D,{round:!0,type:"primary",onClick:()=>{B.api.recently.post({data:{content:n.value}}).then(s=>{n.value="",message.success("\u8BB0\u5F55\u6210\u529F"),o.destroy(),a(s)}).catch(s=>{r(s)})}},"\u8BB0\u597D\u4E86"),t(D,{round:!0,onClick:()=>{o.destroy(),a(null)}},"\u4E0D\u60F3\u8BB0\u4E86"))}})})}}};var O=(e=>(e.\u52A8\u753B="a",e.\u6F2B\u753B="b",e.\u6E38\u620F="c",e.\u6587\u5B66="d",e.\u539F\u521B="e",e.\u6765\u81EA\u7F51\u7EDC="f",e.\u5176\u4ED6="g",e.\u5F71\u89C6="h",e.\u8BD7\u8BCD="i",e.\u7F51\u6613\u4E91="j",e.\u54F2\u5B66="k",e.\u6296\u673A\u7075="l",e))(O||{});const qn=async(e="d")=>await(await fetch("https://v1.hitokoto.cn/"+(Array.isArray(e)?"?"+e.map(r=>"c="+r).join("&"):"?c="+e))).json(),Hn=async()=>(await(await fetch("https://v2.jinrishici.com/one.json")).json()).data,Wn="_header_1319r_8",Nn="_title_1319r_12",Un="_main_1319r_19",Rn="_buttons_1319r_31",Kn="_show_1319r_1";var S={"sticky-header":"_sticky-header_1319r_1",header:Wn,title:Nn,main:Un,buttons:Rn,show:Kn,"header-actions":"_header-actions_1319r_69"};const ze=Symbol("inject"),Fa=()=>W(ze,{addFloatButton(e){return Symbol()},removeFloatButton(e){},setHeaderButtons(e){}}),Gn=g({props:{actionsElement:{type:Object,required:!1},footerButtonElement:{type:Object,required:!1},title:{type:String}},setup(e,n){const{slots:a}=n,r=L(),o=C(()=>r.currentRoute),s=()=>e.actionsElement??null,u=()=>e.footerButtonElement??null,i=v(null);Be(ze,{addFloatButton(y){i.value??=[];const _=typeof y=="function"?y:()=>y;return _.displayName$=_.name?Symbol(_.name):Symbol("fab"),i.value.push(_),_.displayName$},removeFloatButton(y){if(!i.value)return;const _=i.value.findIndex(f=>f.displayName$===y);_&&_!==-1&&i.value.splice(_,1)},setHeaderButtons(y){if(!y){c.value=null;return}c.value=()=>y}}),te(()=>{i.value=null});const m=C(()=>e.title??o.value.value.matched.reduce((y,_)=>y+(_.meta.title?y.length>0?" \xB7 "+_.meta.title:_.meta.title:""),"")),c=v(),d=g({setup(){return()=>t("div",{class:P(S["header-actions"],"space-x-4")},c.value?t(c.value,null):e.actionsElement?t(s,null):a.actions?.())}}),k=g({setup(){return()=>t("footer",{class:S.buttons},i.value?i.value.map(y=>t(y,{key:y.displayName})):null,e.footerButtonElement?t(u,null):a.buttons?.())}});return()=>t(j,null,t(ee,{class:S["sticky-header"],embedded:!0},t("header",{class:S.header},t("h1",{class:S.title},m.value),t(d,null))),t("main",{class:S.main},a.default?.()),t(k,null))}}),Yn=g({props:{label:String,value:[String,Number]},setup(e){return()=>t(j,null,e.value==="N/A"?t(V,{vertical:!0,align:"center",class:"min-h-[4rem]"},t(le,{style:{height:".8rem",width:"5rem"}}),t(le,{style:{height:"1.8rem",width:"3rem"}})):t(rt,{label:e.label,value:e.value}))}}),Jn=g({props:{label:String,value:[Number,String],icon:Function,actions:{type:Array,default:()=>[]}},setup(e){return()=>t(j,null,t(Pe,null,t(st,null,{header(){return t(Yn,{label:e.label,value:e.value})},["header-extra"](){return t(M,{class:"text-4xl opacity-70"},typeof e.icon=="function"?e.icon():e.icon)},action(){return e.actions?t(V,{size:"medium",align:"center"},e.actions.map(n=>{const a=()=>n.primary?t(D,{round:!0,type:"primary",onClick:n.onClick},n.name):t(D,{text:!0,onClick:n.onClick},n.name);return n.showBadage?t(ut,{value:e.value,processing:!0},t(a,null)):t(a,null)})):null}})))}}),Qn=g({name:"Dashboard",setup(){const e=v(new Proxy({},{get(){return"N/A"}})),n=v(null),a=async()=>{const p=await B.api.aggregate.stat.get();e.value=p,n.value=new Date},r=()=>{qn([O.\u52A8\u753B,O.\u539F\u521B,O.\u54F2\u5B66,O.\u6587\u5B66]).then(p=>{const w=Object.values(pt(p,["from","from_who","creator"])).filter(Boolean)[0];p.hitokoto?i.value=p.hitokoto+(w?" \u2014\u2014 "+w:""):i.value="\u6CA1\u6709\u83B7\u53D6\u5230\u53E5\u5B50\u4FE1\u606F"})};let o;A(()=>{o=setInterval(function(){a()},3e3)}),te(()=>{o=clearTimeout(o)});const s=v(""),u=v(null);xe(()=>{r(),a(),Hn().then(p=>{s.value=p.content,u.value=p})});const i=v(""),m=ne(),c=b(H),d=L(),k=g(()=>()=>t(j,null,t($,{class:"text-opacity-80 font-light"},"\u767B\u9646\u8BB0\u5F55"),t("p",{class:"-mt-2 mb-3 relative text-gray-500"},t("span",null,"\u4E0A\u6B21\u767B\u9646 IP:"," ",c.user.value?.lastLoginIp?t(On,{trigger:"hover",triggerEl:t("span",null,c.user.value?.lastLoginIp),ip:c.user.value?.lastLoginIp}):"N/A"),t("div",{class:"pt-[.5rem]"}),t("span",null,"\u4E0A\u6B21\u767B\u9646\u65F6\u95F4:"," ",c.user.value?.lastLoginTime?t("time",null,we(c.user.value?.lastLoginTime,"yyyy\u5E74M\u6708d\u65E5 HH:mm:ss")):"N/A")),t("div",{class:"pb-4"}))),{create:y}=Vn(),_=C(()=>[{label:"\u535A\u6587",value:e.value.posts,icon:t($e,null),actions:[{name:"\u64B0\u5199",primary:!0,onClick(){d.push({name:l.EditPost})}},{name:"\u7BA1\u7406",onClick(){d.push({name:l.ViewPost,query:{page:1}})}}]},{label:"\u65E5\u8BB0",value:e.value.notes,icon:t(dt,null),actions:[{name:"\u64B0\u5199",primary:!0,onClick(){d.push({name:l.EditNote})}},{name:"\u7BA1\u7406",onClick(){d.push({name:l.ViewNote,query:{page:1}})}}]},{label:"\u9875\u9762",value:e.value.pages,icon:t(De,null),actions:[{primary:!0,name:"\u7BA1\u7406",onClick(){d.push({name:l.ListPage,query:{page:1}})}}]},{label:"\u901F\u8BB0",value:e.value.recently,icon:t(Fe,null),actions:[{primary:!0,name:"\u8BB0\u70B9\u5565",onClick(){y()}},{name:"\u7BA1\u7406",onClick(){d.push({name:l.ListShortHand,query:{page:1}})}}]},{label:"\u5206\u7C7B",value:e.value.categories,icon:t(mt,null),actions:[{primary:!0,name:"\u7BA1\u7406",onClick(){d.push({name:l.EditCategory})}}]},{label:"\u5168\u90E8\u8BC4\u8BBA",value:e.value.allComments,icon:t(Le,null),actions:[{primary:!0,name:"\u7BA1\u7406",onClick(){d.push({name:l.Comment,query:{state:1}})}}]},{label:"\u672A\u8BFB\u8BC4\u8BBA",value:e.value.unreadComments,icon:t(ht,null),actions:[{primary:!0,showBadage:!0,name:"\u67E5\u770B",onClick(){d.push({name:l.Comment,query:{state:0}})}}]},{label:"\u53CB\u94FE",value:e.value.links,icon:t(vt,null),actions:[{primary:!0,name:"\u7BA1\u7406",onClick(){d.push({name:l.Friend,query:{state:0}})}}]},{label:"\u65B0\u7684\u53CB\u94FE\u7533\u8BF7",value:e.value.linkApply,icon:t(gt,null),actions:[{primary:!0,showBadage:!0,name:"\u67E5\u770B",onClick(){d.push({name:l.Friend,query:{state:1}})}}]},{label:"\u8BF4\u8BF4",value:e.value.says,icon:t(Se,null),actions:[{primary:!0,name:"\u8BF4\u4E00\u53E5",onClick(){d.push({name:l.EditSay})}},{primary:!1,name:"\u7BA1\u7406",onClick(){d.push({name:l.ListSay})}}]},{label:"\u7F13\u5B58",value:"Redis",icon:t(En,null),actions:[{primary:!1,name:"\u6E05\u9664 API \u7F13\u5B58",onClick(){B.api.clean_catch.get().then(()=>{m.success("\u6E05\u9664\u6210\u529F")})}},{primary:!1,name:"\u6E05\u9664\u6570\u636E\u7F13\u5B58",onClick(){B.api.clean_redis.get().then(()=>{m.success("\u6E05\u9664\u6210\u529F")})}}]},{label:"API \u603B\u8C03\u7528\u6B21\u6570",value:e.value.callTime!=="N/A"?Intl.NumberFormat("en-us").format(e.value.callTime):"N/A",icon:t(ft,null),actions:[{primary:!0,name:"\u67E5\u770B",onClick(){d.push({name:l.Analyze})}}]},{label:"\u4ECA\u65E5 IP \u8BBF\u95EE\u6B21\u6570",value:e.value.todayIpAccessCount,icon:t(yt,null),actions:[{primary:!0,name:"\u67E5\u770B",onClick(){d.push({name:l.Analyze})}}]},{label:"\u5F53\u524D\u5728\u7EBF\u8BBF\u5BA2",value:e.value.online,icon:t(_t,null)},{label:"\u4ECA\u65E5\u8BBF\u5BA2",value:e.value.todayOnlineTotal,icon:t(wt,null)},{value:e.value.todayMaxOnline,label:"\u4ECA\u65E5\u6700\u591A\u540C\u65F6\u5728\u7EBF\u4EBA\u6570",icon:t(Et,null)}]),f=g(()=>()=>t(j,null,t(V,{vertical:!0},t($,{class:"text-opacity-80 font-light"},"\u6570\u636E\u7EDF\u8BA1"),t("p",{class:"-mt-4 mb-3 relative text-gray-500 flex items-center"},t("span",null,"\u6570\u636E\u66F4\u65B0\u4E8E: "),t("time",null," ",n.value?we(n.value,"yyyy\u5E74M\u6708d\u65E5 HH:mm:ss"):"N/A"),t(D,{text:!0,onClick:a,class:"ml-4 text-black"},t(M,null,t(fe,null))))),t(ie,{xGap:20,yGap:20,cols:"2 100:1 400:2 600:3 900:4 1200:5 1600:6"},_.value.map(p=>t(R,{key:p.label},t(Jn,{...p}))))));return()=>t(Gn,null,t(it,{class:"font-light"},"\u6B22\u8FCE\u56DE\u6765"),t(ie,{xGap:12,cols:"1 900:2"},t(R,null,t($,{class:"text-opacity-80 font-light !mt-[10px] !mb-[10px]"},"\u4E00\u8A00"),t(N,null,t(V,{align:"center",class:"min-h-[3rem]"},i.value?t(j,null,t(K,{class:"leading-normal"},i.value),t("div",{class:"space-x-2 flex items-center"},t(D,{text:!0,onClick:r,class:"ml-0 phone:float-right"},t(M,null,t(fe,null))),t(D,{text:!0,onClick:()=>{navigator.clipboard.writeText(i.value),m.success("\u5DF2\u590D\u5236"),m.info(i.value)}},t(M,null,t(lt,null))))):t(K,null,"\u52A0\u8F7D\u4E2D...")))),t(R,null,t($,{class:"text-opacity-80 font-light !mt-[10px] !mb-[10px]"},"\u4ECA\u65E5\u8BD7\u53E5"),t(N,null,t(Ie,{trigger:"hover",placement:"bottom"},{trigger(){return t(K,null,s.value||"\u83B7\u53D6\u4E2D")},default(){const p=u.value?.origin;return p?t(Pe,{class:"text-center min-w-[350px] max-w-[65vw] max-h-[60vh] overflow-auto",bordered:!1},t($,null,p.title),p.content.map(w=>t(N,{key:w},w))):null}})))),t(k,null),t(f,null),t(Xn,null))}}),Xn=g({setup(){const{app:e}=b(se);return()=>t(ct,{tag:"footer",class:"mt-12"},t(N,{class:"text-center",style:{color:"var(--text-color-3)"},depth:"1"},"\u9762\u677F\u7248\u672C: ",window.version||"N/A",t("br",null),"\u7CFB\u7EDF\u7248\u672C: ",e.value?.version||"N/A",t("br",null),"\u9875\u9762\u6765\u6E90: ",window.pageSource||""))}});const Zn=g({props:{title:{type:String,default:"Button"},type:{type:String,default:"normal",validator(e){return["normal","warning","danger"].includes(e)}},forecolor:{type:String,default:"#fff"}},setup(){const e=v(),n=v();A(()=>{e.value=n.value?.style});const a=C(()=>n.value?.getBoundingClientRect());return{parallaxBtn:n,btnStyle:e,boundingClientRect:a,down(r){e.value.setProperty("--tz","-25px")},leave(r){e.value.setProperty("--ty","0"),e.value.setProperty("--rx","0"),e.value.setProperty("--ry","0")},move(r){const o=r.clientX-a.value.left,s=r.clientY-a.value.top,u=a.value.width/2,i=a.value.height/2,m=o-u,c=s-i;e.value.setProperty("--rx",`${c/-1}deg`),e.value.setProperty("--ry",`${m/10}deg`)},up(){e.value.setProperty("--tz","-12px")}}}}),ea=["data-title"];function ta(e,n,a,r,o,s){return X(),Z("button",{ref:"parallaxBtn",class:Bt(["parallax-btn pr",e.type]),"data-title":e.title,style:U({color:e.forecolor}),onMousemove:n[0]||(n[0]=(...u)=>e.move&&e.move(...u)),onMouseup:n[1]||(n[1]=(...u)=>e.up&&e.up(...u)),onMousedown:n[2]||(n[2]=(...u)=>e.down&&e.down(...u)),onMouseleave:n[3]||(n[3]=(...u)=>e.leave&&e.leave(...u))},null,46,ea)}var na=re(Zn,[["render",ta]]);const aa=g({components:{Avatar:J,ParallaxButtonVue:na},setup(){const e=v(!1),{user:n,updateToken:a}=b(H),r=L(),o=v(null);xe(async()=>{if(!(window.injectData.INIT??(await B.api.init.get()).isInit))return r.replace("/setup")}),A(()=>{const c=new Image;c.src=ge,c.onload=d=>{e.value=!0},o.value.focus(),document.onkeydown=d=>{o.value.focus()}}),te(()=>{document.onkeydown=null});const s=ne(),u=v(""),i=bt();return{bgUrl:ge,loaded:e,user:n,password:u,handleLogin:async c=>{c?.stopPropagation();try{if(!n.value||!n.value.username){s.error("\u4E3B\u4EBA\u4FE1\u606F\u65E0\u6CD5\u83B7\u53D6");return}const d=await B.api.master.login.post({data:{username:n.value?.username,password:u.value}});a(d.token),r.push(i.query.from?decodeURI(i.query.from):"/dashboard"),s.success("\u6B22\u8FCE\u56DE\u6765")}catch{s.error("\u767B\u9646\u5931\u8D25")}},input:o}}}),oa=aa,ra={class:"wrapper"},sa={class:"input-wrap"};function ua(e,n,a,r,o,s){const u=ce("Avatar"),i=ce("ParallaxButtonVue");return X(),Z("div",null,[x("div",{class:"bg",style:U({backgroundImage:`url(${e.bgUrl})`,opacity:e.loaded?1:.4})},null,4),x("div",ra,[pe(u,{src:e.user?.avatar,size:80},null,8,["src"]),x("form",{action:"#",onSubmit:n[1]||(n[1]=de((...m)=>e.handleLogin&&e.handleLogin(...m),["prevent"]))},[x("div",sa,[Ct(x("input",{ref:"input","onUpdate:modelValue":n[0]||(n[0]=m=>e.password=m),type:"password",autofocus:""},null,512),[[At,e.password]])]),pe(i,{title:"\u767B\u9646",class:"p-button-raised p-button-rounded",onClick:de(e.handleLogin,["prevent","stop"])},null,8,["onClick"])],32)])])}var la=re(oa,[["render",ua],["__scopeId","data-v-04acd2f9"]]);const ia=[{path:"/dashboard",component:Qn,name:l.Dashboard,meta:{title:"\u4EEA\u8868\u76D8",icon:t(It,null)}},{path:"/posts",name:l.Post,meta:{title:"\u535A\u6587",icon:t($e,null)},redirect:"/posts/view",component:I,children:[{path:"view",name:l.ViewPost,meta:{title:"\u7BA1\u7406",icon:t(T,null),query:{page:1}},component:()=>h(()=>import("./list-b18afafa.js"),["js/list-b18afafa.js","js/vendor-a7b34205.js","js/title-link-b7884d48.js","js/delete-confirm-93a73628.js","js/rounded-button-e182bc33.js","js/index-bfc15a67.js","assets/index.adff1cbf.css","js/edit-column-101e7ac3.js","js/relative-time-926545d3.js","js/use-table-86e8e7b0.js"]).then(e=>e.ManagePostListView)},{path:"edit",name:l.EditPost,meta:{title:"\u64B0\u5199",icon:t(z,null)},props:!0,component:()=>h(()=>import("./write-2ce188fe.js"),["js/write-2ce188fe.js","js/vendor-a7b34205.js","js/rounded-button-e182bc33.js","js/parse-content-b2d97682.js","assets/parse-content.05ba7fc2.css","js/toggle-e7c686f7.js","assets/toggle.46e497ff.css","js/use-react-1ab208ae.js","js/use-save-confirm-3e742716.js","js/js-yaml-fae8e8ce.js","js/underline-input-c7f2e7f0.js","assets/underline-input.9e79aeb7.css"])},{path:"category",name:l.EditCategory,meta:{title:"\u5206\u7C7B / \u6807\u7B7E",icon:t(kt,null)},component:()=>h(()=>import("./category-729c39de.js"),["js/category-729c39de.js","js/rounded-button-e182bc33.js","js/vendor-a7b34205.js","js/index-bfc15a67.js","assets/index.adff1cbf.css"]).then(e=>e.CategoryView)}]},{path:"/notes",name:l.Note,meta:{title:"\u751F\u6D3B\u8BB0\u5F55",icon:t(Pt,null)},redirect:"/notes/view",component:I,children:[{path:"view",name:"view-notes",meta:{title:"\u7BA1\u7406",query:{page:1},icon:t(T,null)},component:()=>h(()=>import("./list-083586ee.js"),["js/list-083586ee.js","js/vendor-a7b34205.js","js/title-link-b7884d48.js","js/delete-confirm-93a73628.js","js/rounded-button-e182bc33.js","js/index-bfc15a67.js","assets/index.adff1cbf.css","js/edit-column-101e7ac3.js","js/relative-time-926545d3.js","js/use-table-86e8e7b0.js"]).then(e=>e.ManageNoteListView)},{path:"edit",name:l.EditNote,meta:{title:"\u64B0\u5199",icon:t(z,null)},component:()=>h(()=>import("./write-e1e571fe.js"),["js/write-e1e571fe.js","js/vendor-a7b34205.js","js/rounded-button-e182bc33.js","js/parse-content-b2d97682.js","assets/parse-content.05ba7fc2.css","js/toggle-e7c686f7.js","assets/toggle.46e497ff.css","js/use-react-1ab208ae.js","js/use-save-confirm-3e742716.js","js/js-yaml-fae8e8ce.js","js/use-parse-payload-ee448945.js"])}]},{path:"/comments",name:l.Comment,meta:{title:"\u8BC4\u8BBA",query:{page:1,state:0},icon:t(Le,null)},component:()=>h(()=>import("./index-47cbc51d.js"),["js/index-47cbc51d.js","js/vendor-a7b34205.js","js/rounded-button-e182bc33.js","js/index-bfc15a67.js","assets/index.adff1cbf.css","js/use-table-86e8e7b0.js"])},{path:"/pages",name:l.Page,redirect:"/pages/list",meta:{title:"\u9875\u9762",icon:t(De,null)},component:I,children:[{path:"list",name:l.ListPage,meta:{title:"\u7BA1\u7406",icon:t(T,null),query:{page:1}},component:()=>h(()=>import("./list-05e45095.js"),["js/list-05e45095.js","js/title-link-b7884d48.js","js/vendor-a7b34205.js","js/delete-confirm-93a73628.js","js/rounded-button-e182bc33.js","js/index-bfc15a67.js","assets/index.adff1cbf.css","js/relative-time-926545d3.js","js/use-table-86e8e7b0.js"]).then(e=>e.ManagePageListView)},{path:"edit",name:l.EditPage,meta:{title:"\u7F16\u8F91",icon:t(z,null)},component:()=>h(()=>import("./write-42d684ca.js"),["js/write-42d684ca.js","js/vendor-a7b34205.js","js/rounded-button-e182bc33.js","js/parse-content-b2d97682.js","assets/parse-content.05ba7fc2.css","js/toggle-e7c686f7.js","assets/toggle.46e497ff.css","js/use-react-1ab208ae.js","js/use-save-confirm-3e742716.js","js/js-yaml-fae8e8ce.js","js/underline-input-c7f2e7f0.js","assets/underline-input.9e79aeb7.css","js/use-parse-payload-ee448945.js"])}]},{path:"/says",name:l.Say,meta:{title:"\u8BF4\u8BF4",icon:t(Se,null)},component:I,children:[{path:"list",name:l.ListSay,meta:{title:"\u8BF4\u4EC0\u4E48\u4E86",query:{page:1},icon:t(T,null)},component:()=>h(()=>import("./list-df8a1e71.js"),["js/list-df8a1e71.js","js/delete-confirm-93a73628.js","js/rounded-button-e182bc33.js","js/vendor-a7b34205.js","js/index-bfc15a67.js","assets/index.adff1cbf.css","js/relative-time-926545d3.js","js/use-table-86e8e7b0.js"])},{path:"edit",name:l.EditSay,meta:{title:"\u8BF4\u70B9\u4EC0\u4E48\u5462",icon:t(z,null)},component:()=>h(()=>import("./edit-294d514c.js"),["js/edit-294d514c.js","js/rounded-button-e182bc33.js","js/vendor-a7b34205.js","js/use-parse-payload-ee448945.js"])}]},{path:"/recently",name:l.ListShortHand,meta:{title:"\u901F\u8BB0",icon:t(Fe,null)},component:()=>h(()=>import("./index-17d598d5.js"),["js/index-17d598d5.js","assets/index.90492283.css","js/vendor-a7b34205.js","js/relative-time-926545d3.js","js/rounded-button-e182bc33.js"])},{path:"/projects",name:l.Project,meta:{title:"\u9879\u76EE",icon:t(xt,null)},component:I,children:[{path:"list",name:l.ListProject,meta:{title:"\u9879\u76EE\u5217\u8868",query:{page:1},icon:t(T,null)},component:()=>h(()=>import("./list-8012ce0d.js"),["js/list-8012ce0d.js","js/delete-confirm-93a73628.js","js/rounded-button-e182bc33.js","js/vendor-a7b34205.js","js/relative-time-926545d3.js","js/use-table-86e8e7b0.js"])},{path:"edit",name:l.EditProject,meta:{title:"\u521B\u5EFA\u9879\u76EE",icon:t(z,null)},component:()=>h(()=>import("./edit-1734e270.js"),["js/edit-1734e270.js","js/rounded-button-e182bc33.js","js/vendor-a7b34205.js","js/toggle-e7c686f7.js","assets/toggle.46e497ff.css","js/use-react-1ab208ae.js","js/use-save-confirm-3e742716.js","js/use-parse-payload-ee448945.js"])}]},{path:"/friends",name:l.Friend,meta:{title:"\u670B\u53CB\u4EEC",icon:t(Dt,null),query:{state:"0"}},component:()=>h(()=>import("./index-9dc25208.js"),["js/index-9dc25208.js","js/rounded-button-e182bc33.js","js/vendor-a7b34205.js","js/index-bfc15a67.js","assets/index.adff1cbf.css","js/relative-time-926545d3.js","js/use-table-86e8e7b0.js"])},{path:"/analyze",name:l.Analyze,component:()=>h(()=>import("./index-8ed8efcc.js"),["js/index-8ed8efcc.js","js/rounded-button-e182bc33.js","js/vendor-a7b34205.js","js/delete-confirm-93a73628.js","js/index-bfc15a67.js","assets/index.adff1cbf.css","js/use-table-86e8e7b0.js"]),meta:{title:"\u6570\u636E",icon:t(Ft,null),query:{page:1}}},{path:"/setting",redirect:"/setting/user",meta:{title:"\u8BBE\u5B9A",icon:t(Lt,null),params:{type:"user"}},component:()=>null},{path:"/setting/:type",name:l.Setting,meta:{title:"\u8BBE\u5B9A",params:{type:"user"},hide:!0},component:()=>h(()=>import("./index-c9be0558.js"),["js/index-c9be0558.js","assets/index.7e8ae26f.css","js/vendor-a7b34205.js","js/relative-time-926545d3.js","js/rounded-button-e182bc33.js","js/index-aa130b0b.js"])},{path:"/other",name:l.Other,meta:{title:"\u5176\u4ED6",icon:t(St,null)},component:I,children:[{path:"snippets",name:l.Snippet,meta:{title:"\u914D\u7F6E\u4E0E\u4E91\u51FD\u6570",icon:t(wn,null)},component:()=>h(()=>import("./index-be5b9baa.js"),["js/index-be5b9baa.js","js/vendor-a7b34205.js","js/rounded-button-e182bc33.js","js/use-react-1ab208ae.js","js/js-yaml-fae8e8ce.js","js/use-async-monaco-35b689e3.js","js/index-76d8504b.js","js/use-save-confirm-3e742716.js","js/editor.main-759b9211.js","assets/editor.main.2109f3ac.css","js/index-3343cd08.js","js/delete-confirm-93a73628.js","js/index-bfc15a67.js","assets/index.adff1cbf.css","js/relative-time-926545d3.js","js/use-table-86e8e7b0.js"])},{path:"assets/template",name:l.AssetTemplate,meta:{title:"\u6A21\u677F\u7F16\u8F91",icon:t(Mt,null)},component:()=>h(()=>import("./index-7210b8f5.js"),["js/index-7210b8f5.js","js/rounded-button-e182bc33.js","js/vendor-a7b34205.js","js/use-react-1ab208ae.js","js/use-async-monaco-35b689e3.js","js/index-76d8504b.js","js/use-save-confirm-3e742716.js","js/editor.main-759b9211.js","assets/editor.main.2109f3ac.css"])},{path:"backup",name:l.Backup,meta:{title:"\u5907\u4EFD",icon:t(jt,null)},component:()=>h(()=>import("./backup-fbda0af5.js"),["js/backup-fbda0af5.js","js/rounded-button-e182bc33.js","js/vendor-a7b34205.js","js/delete-confirm-93a73628.js","js/index-bfc15a67.js","assets/index.adff1cbf.css","js/use-table-86e8e7b0.js","js/index-aa130b0b.js"])},{path:"markdown",name:l.Markdown,meta:{title:"Markdown \u5BFC\u5165\u5BFC\u51FA",icon:t($t,null)},component:()=>h(()=>import("./markdown-helper-0b7fcfb5.js"),["js/markdown-helper-0b7fcfb5.js","js/index-aa130b0b.js","js/vendor-a7b34205.js"])},{path:"cron",name:l.Cron,meta:{title:"\u4EFB\u52A1",icon:t(Tt,null)},component:()=>h(()=>import("./cron-3a7e77dc.js"),["js/cron-3a7e77dc.js","js/index-bfc15a67.js","assets/index.adff1cbf.css","js/vendor-a7b34205.js","js/use-table-86e8e7b0.js","js/index-aa130b0b.js"])},{path:"log",name:l.Log,meta:{title:"\u65E5\u5FD7",icon:t(zt,null)},component:()=>h(()=>import("./index-03553eff.js"),["js/index-03553eff.js","js/vendor-a7b34205.js","js/index-8ef61982.js","assets/index.7068ff28.css","js/use-react-1ab208ae.js","js/index-fb989de1.js","js/index-77eb1604.js","js/types-4fa065e6.js"])},{path:"pty",name:l.Pty,meta:{title:"\u7EC8\u7AEF",icon:t(_n,null)},component:()=>h(()=>import("./index-920b3c86.js"),["js/index-920b3c86.js","js/rounded-button-e182bc33.js","js/vendor-a7b34205.js","js/index-8ef61982.js","assets/index.7068ff28.css","js/use-react-1ab208ae.js","js/index-77eb1604.js","js/types-4fa065e6.js"])}]}],ca=[{path:"/",component:_e,name:l.Home,redirect:"/dashboard",children:[...ia]},{path:"/login",name:l.Login,meta:{isPublic:!0,title:"\u767B\u9646"},component:la},{path:"/setup",name:l.Setup,meta:{isPublic:!0,title:"\u521D\u59CB\u5316"},component:()=>h(()=>import("./index-d5db6523.js"),["js/index-d5db6523.js","assets/index.eaf53105.css","js/vendor-a7b34205.js"])},{path:"/dev",redirect:"/",component:I,children:[]},{path:"/debug",component:_e,meta:{title:"\u8C03\u8BD5"},children:Object.entries({"../views/debug/events/index.tsx":()=>h(()=>import("./index-3c6fbd67.js"),["js/index-3c6fbd67.js","js/vendor-a7b34205.js","js/use-async-monaco-35b689e3.js","js/index-76d8504b.js","js/use-save-confirm-3e742716.js","js/editor.main-759b9211.js","assets/editor.main.2109f3ac.css","js/types-4fa065e6.js"]),"../views/debug/serverless/index.tsx":()=>h(()=>import("./index-e4bcd5aa.js"),["js/index-e4bcd5aa.js","js/vendor-a7b34205.js","js/rounded-button-e182bc33.js","js/index-3343cd08.js","js/use-async-monaco-35b689e3.js","js/index-76d8504b.js","js/use-save-confirm-3e742716.js","js/editor.main-759b9211.js","assets/editor.main.2109f3ac.css"])}).map(([e,n])=>{const a=e.match(/debug\/(.*?)\/index\.tsx$/)[1],r=a[0].toUpperCase()+a.slice(1);return{path:a,component:n,title:r,meta:{title:r,hideKbar:!0}}})},{path:"/page/:path(.*)*",name:"page$",redirect:e=>e.fullPath.replace(/^\/page\//,"/pages/")},{path:"/extra/:path(.*)*",name:"extra",redirect:e=>e.fullPath.replace(/^\/extra/,"")},{path:"/:pathMatch(.*)*",name:"404",meta:{isPublic:!0},redirect:"/"}],F=Ot({history:Vt(),routes:ca});class pa{_$$instance=null;get instance(){return this._$$instance}get endpoint(){return hn}constructor(){this._$$instance=qt({prefix:this.endpoint,timeout:1e4,errorHandler:async n=>{const a=window.message;if(n.request&&!n.response){a.error("\u7F51\u7EDC\u9519\u8BEF");return}if(n.response){try{const o=(await n.response.json()).message;Array.isArray(o)?o.forEach(s=>{a.error(s)}):a.error(o)}catch(r){console.log(r)}return n?.response?.status===401&&F.push("/login"),Promise.reject(n)}}})}request(n,a,r){return this._$$instance[n](a,r)}get api(){return ha(this)}}const Y=()=>{},da=["get","post","delete","patch","put"],ma=["toString","valueOf","inspect","constructor",Symbol.toPrimitive,Symbol.for("util.inspect.custom")];function ha(e){const n=[""],a={get(r,o){return ma.includes(o)?()=>n.join("/"):da.includes(o)?async s=>{const u=await e.request(o,n.join("/"),{...s});return Array.isArray(u)||Ht(u)?(()=>{const i=Wt(u,{deep:!0});return{...i,get data(){return i.data??i}}})():u}:(n.push(o),new Proxy(Y,a))},apply(r,o,s){return n.push(...s.filter(u=>u!=null)),new Proxy(Y,a)}};return new Proxy(Y,a)}const B=new pa;B.instance.interceptors.request.use((e,n)=>{const a=je();return a&&(n.headers.Authorization=a),{url:e+"?t="+ +new Date,options:{...n,interceptors:!0}}},{});const we=(e,n="yyyy\u5E74M\u6708d\u65E5")=>Nt(new Date(e),n),La=(e,n=new Date)=>{if(!e)return"-";e=new Date(e);const a=60*1e3,r=a*60,o=r*24,s=o*30,u=o*365,i=+n-+e;if(i<a){const m=Math.ceil(i/1e3);return m<=0?"\u521A\u521A":m+" \u79D2\u524D"}else return i<r?Math.round(i/a)+" \u5206\u949F\u524D":i<o?Math.round(i/r)+" \u5C0F\u65F6\u524D":i<s?Math.round(i/o)+" \u5929\u524D":i<u?Math.round(i/s)+" \u4E2A\u6708\u524D":Math.round(i/u)+" \u5E74\u524D"},Sa=(e=new Date)=>{const n=e,a=new Date(n.getFullYear(),0,0),r=n.getTime()-a.getTime(),o=1e3*60*60*24;return Math.floor(r/o)};function se(){const e=v();return A(()=>{B.api.get().then(n=>{e.value=n})}),{app:e}}function va(){const e=v(),n=C(()=>new Map(e.value?.map(a=>[a.id,a]))||new Map);return{data:e,map:n,get(a){return n.value.get(a)},async fetch(a){if(!e.value||a){const r=await B.api.categories.get({params:{type:"Category"}});e.value=r.data}else return e.value}}}const ga=()=>ln(q,H,va,se),fa=g({name:"Home",setup(){const{fetchUser:e}=b(H),n=L();return A(()=>{const a=ne(),r=a.error;Object.assign(a,{error:(...o)=>{throw r.apply(this,o),o[0]}}),window.message=a,window.notification=Ut(),window.dialog=ke(),h(()=>import("./index-fb989de1.js"),["js/index-fb989de1.js","js/index-77eb1604.js","js/types-4fa065e6.js","js/vendor-a7b34205.js"]).then(o=>{o.socket.initIO()}),e().then(()=>{localStorage.getItem("to-setting")==="true"&&(n.push({name:l.Setting,params:{type:"user"}}),localStorage.removeItem("to-setting"))})}),()=>t(be,null)}}),ya=g({setup(){ga();const{isDark:e,naiveUIDark:n}=Me(q);return()=>t(Qt,{locale:Yt,dateLocale:Jt,theme:n.value?me:e.value?me:null},t(Rt,null,t(Kt,null,t(Gt,null,t(fa,null)))))}});const ue=new Xt({colorful:!1,color:"#1a9cf3"}),Ee=Te.title;F.beforeEach(async e=>{if(ue.start(),e.path==="/setup"){const n=window.injectData.INIT??(await B.api.init.get()).isInit;if(console.log("[isInit]",n),n)return"/"}if(!(e.meta.isPublic||e.fullPath.startsWith("/dev"))){const{ok:n}=await B.api("master")("check_logged").get();if(!n)return"/login?from="+encodeURI(e.fullPath)}});F.afterEach((e,n)=>{document.title=_a(e?.meta.title),ue.finish()});F.afterEach(e=>{e.hash=="|publish"&&F.replace({...e,hash:""})});F.onError(()=>{ue.finish()});function _a(e){return e?`${e} - ${Ee}`:`${Ee}`}const Oe=Zt(ya);Oe.use(F);Oe.mount("#app");self.MonacoEnvironment={getWorker(e,n){return n==="json"?new en:n==="css"||n==="scss"||n==="less"?new tn:n==="html"||n==="handlebars"||n==="razor"?new nn:n==="typescript"||n==="javascript"?new an:new on}};window.module={};window.module.exports={};export{yn as A,va as C,Ca as D,wn as F,Ba as G,On as I,ba as M,xa as P,B as R,O as S,q as U,ve as W,h as _,Gn as a,La as b,Te as c,l as d,Fa as e,Sa as f,je as g,qn as h,Aa as i,Vn as j,ka as k,Ia as l,Pa as m,Ea as n,J as o,we as p,Da as q,F as r,fe as s,ge as t,b as u};
