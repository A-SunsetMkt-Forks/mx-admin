import{d as S,v as U,i as k,x as y,m as q,w as C,y as F,j as P,h as j,U as x}from"./index-62e99b2b.js";import{a as B}from"./DataTable-30fbd207.js";var T={"table-row":"_table-row_1brqz_3"};const D=T["table-row"],z=S({props:{data:{type:Object,required:!0},noPagination:{type:Boolean,default:!1},pager:{type:Object,required:!1},onUpdateCheckedRowKeys:{type:Function,default:new Function},onUpdateSorter:{type:Function,default:new Function},onFetchData:{type:Function,required:!1},columns:{type:Array,required:!0},nTableProps:{type:Object,default:()=>({})},maxWidth:{type:Number},loading:{type:Boolean,default:!1},checkedRowKey:{type:String,default:"id"}},setup(r){const{data:h}=r,v=U(),u=k(),i=y([]),n=q({sortBy:"",sortOrder:0}),o=y(!0),w=C(()=>h.value,d=>{o.value=!1,w()});F((d,c,t)=>{o.value=!0,t(),o.value=!1});const s=P(x);return()=>{const{data:d,noPagination:c=!1,pager:t,onUpdateCheckedRowKeys:g,onUpdateSorter:b,nTableProps:m,columns:p,onFetchData:f,checkedRowKey:R="id",maxWidth:K=1200}=r;return j(B,{loading:r.loading??o.value,remote:!0,scrollX:Math.max(s.contentInsetWidth.value,K),pagination:c?void 0:t&&{page:t.value.currentPage,pageSize:t.value.size,pageCount:t.value.totalPage,showQuickJumper:!0,pageSlot:s.viewport.value.mobile?s.contentInsetWidth.value<400?2:3:void 0,onChange:async e=>{v.push({query:{...u.query,page:e},path:u.path})}},bordered:!1,data:d.value,rowClassName:()=>D,checkedRowKeys:i.value,rowKey:e=>e[R],onUpdateCheckedRowKeys:e=>{i.value=e,g?.(e)},onUpdateSorter:async e=>{if(!e)return;p.forEach(a=>{if("sortOrder"in a&&a.sortOrder!==void 0){if(!e){a.sortOrder=!1;return}a.key===e.columnKey?a.sortOrder=e.order:a.sortOrder=!1}});const{columnKey:O,order:l}=e;n.sortBy=l===!1?"":O.toString()||"",n.sortOrder=l?{descend:-1,ascend:1}[l]:1,b?.(n,e),f&&await f()},columns:p,...m})}}});export{z as T,D as t};
