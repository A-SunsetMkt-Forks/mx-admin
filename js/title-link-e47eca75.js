import{d as i,o as p,b as k,e as r,h as t,i as g,k as u,W as h,R as w,g as x,n as f,N as c,M as m,I as v,p as T,U as y}from"./index-7e4abaa4.js";import{N as L}from"./DataTable-7b1f1195.js";const _={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},S=r("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[r("path",{d:"M11 7H6a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2v-5"}),r("path",{d:"M10 14L20 4"}),r("path",{d:"M15 4h5v5"})],-1),B=[S];var E=i({name:"ExternalLink",render:function(o,a){return p(),k("svg",_,B)}});const P=i({props:{url:{type:String,required:!0}},setup(e){return()=>t("iframe",{src:e.url,class:"max-w-full w-[60ch] h-[60vh]"})}}),M=i({props:{inPageTo:{type:String,required:!0},title:{type:String,required:!0},externalLinkTo:{type:String,required:!1},id:{type:String,required:!1},withToken:{type:Boolean,required:!1}},setup(e,{slots:o}){const{viewport:a}=g(y),d=u(()=>a.value.widest||a.value.wider),l=u(()=>{if(!e.externalLinkTo)return null;try{return new URL(e.externalLinkTo,e.externalLinkTo.startsWith("/")?h:void 0).toString()}catch{return null}}),s=w.endpoint+"/markdown/render/"+e.id+(e.withToken?"?token="+x():"");return()=>t(T,{to:e.inPageTo,class:"flex items-center space-x-2"},t(L,{lineClamp:2,tooltip:{width:500}},e.title),o.default?.(),l.value&&t(c,{text:!0,tag:"a",class:"cursor-[alias]",href:l.value,target:"_blank",type:"primary",onClick:n=>n.stopPropagation()},t(v,null,t(E,null))),e.id&&d.value&&t(f,{placement:"right",class:"!p-0"},{default(){return e.id&&t(P,{url:s})},trigger(){return t(c,{text:!0,type:"primary",tag:"a",target:"_blank",href:s,onClick:n=>{n.stopPropagation()}},t(m,null))}}))}});export{M as T};
